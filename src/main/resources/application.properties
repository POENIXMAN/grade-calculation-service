# Database connection details
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${POSTGRES_DB:school_journal}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:postgres}
# Hibernate settings
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:false}

# Flyway configuration
spring.flyway.enabled=false

server.address=0.0.0.0

server.port=${SERVER_PORT:8082}


resilience4j.retry.instances.CORE_SERVICE.max-attempts=${RETRY_MAX_ATTEMPTS:7}
resilience4j.retry.instances.CORE_SERVICE.wait-duration=${RETRY_WAIT_DURATION:10s}



# CircuitBreaker for Core Service
resilience4j.circuitbreaker.instances.CORE_SERVICE.failure-rate-threshold=50
resilience4j.circuitbreaker.instances.CORE_SERVICE.minimum-number-of-calls=5
resilience4j.circuitbreaker.instances.CORE_SERVICE.sliding-window-type=COUNT_BASED
resilience4j.circuitbreaker.instances.CORE_SERVICE.sliding-window-size=10
resilience4j.circuitbreaker.instances.CORE_SERVICE.wait-duration-in-open-state=${CIRCUITBREAKER_WAIT_DURATION_OPEN_STATE:5s}
resilience4j.circuitbreaker.instances.CORE_SERVICE.permitted-number-of-calls-in-half-open-state=3
resilience4j.circuitbreaker.instances.CORE_SERVICE.automatic-transition-from-open-to-half-open-enabled=true
resilience4j.circuitbreaker.instances.CORE_SERVICE.register-health-indicator=true